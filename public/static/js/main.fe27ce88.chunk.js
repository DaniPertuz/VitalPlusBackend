(this["webpackJsonpvital-plus"]=this["webpackJsonpvital-plus"]||[]).push([[0],{152:function(e,t){},154:function(e,t){},165:function(e,t){},167:function(e,t){},194:function(e,t){},196:function(e,t){},197:function(e,t){},202:function(e,t){},204:function(e,t){},223:function(e,t){},235:function(e,t){},238:function(e,t){},242:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(38),r=n.n(c),s=n(40),o=n(136),i=n(2),l="[Auth] Finish checking login state",u="[Auth] Login",d="[Auth] Logout",j="[ui] Open modal",m="[ui] Close modal",b="[Payment] Read Payments By Patient",p="[Payment] Add Payment",f="[Patient] Read Patients",O="[Procedure] Read Procedures",h="[Professional] Read Professionals",x="[User] Read Users",v="[Patient] Read Patient",N="[Patient] Read Professional",g="[Patient] Read Procedure",y="[User] Read User",C="[Patient] Add Patient",k="[Procedure] Add Procedure",w="[Professional] Add Professional",P="[User] Add User",_="[Patient] Update Patient",E="[Professional] Update Professional",S="[Procedure] Update Procedure",T="[User] Update User",D="[Patient] Delete Patient",A="[Procedure] Delete Procedure",F="[Professional] Delete Professional",R="[User] Delete User",B="[Report] Read Payments By Patient",M="[Report] Read Payments By Procedure",I="[Report] Read Payments By Professional",Y={checking:!0},U={modalDialog:!1},V=n(15),L=[],z=[],J=[],G=[],X=[],H=[],q=Object(s.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case u:return Object(i.a)(Object(i.a)({},e),{},{user:Object(i.a)({},a),checking:!1});case l:return Object(i.a)(Object(i.a)({},e),{},{checking:!1});case d:return{checking:!1};default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case j:return Object(i.a)(Object(i.a)({},e),{},{modalDialog:!0});case m:return Object(i.a)(Object(i.a)({},e),{},{modalDialog:!1});default:return e}},professionals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h:return Object(i.a)(Object(i.a)({},e),{},{data:Object(V.a)(a)});case N:return Object(i.a)(Object(i.a)({},e),{},{professional:a});case w:return Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[a])});case E:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.map((function(e){return e._id===a._id?a:e}))});case F:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.filter((function(t){return t._id!==e.professional._id})),professional:null});default:return e}},procedures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case O:return Object(i.a)(Object(i.a)({},e),{},{data:Object(V.a)(a)});case k:return Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[a])});case g:return Object(i.a)(Object(i.a)({},e),{},{procedure:a});case S:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.map((function(e){return e._id===a._id?a:e}))});case A:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.filter((function(t){return t._id!==e.procedure._id})),procedure:null});default:return e}},patients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:return Object(i.a)(Object(i.a)({},e),{},{data:Object(V.a)(a)});case v:return Object(i.a)(Object(i.a)({},e),{},{patient:a});case C:return Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[a])});case _:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.map((function(e){return e._id===a._id?a:e}))});case D:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.filter((function(t){return t._id!==e.patient._id})),patient:null});default:return e}},payments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:return Object(i.a)(Object(i.a)({},e),{},{data:Object(V.a)(a)});case p:return Object(i.a)(Object(i.a)({},e),{},{data:[a].concat(Object(V.a)(e.data))});default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case B:case M:case I:return Object(i.a)(Object(i.a)({},e),{},{data:a.reports,total:a.total});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case x:return Object(i.a)(Object(i.a)({},e),{},{data:Object(V.a)(a)});case y:return Object(i.a)(Object(i.a)({},e),{},{user:a});case P:return Object(i.a)(Object(i.a)({},e),{},{data:[].concat(Object(V.a)(e.data),[a]),user:a});case T:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.map((function(e){return e._id===a._id?a:e}))});case R:return Object(i.a)(Object(i.a)({},e),{},{data:e.data.filter((function(t){return t._id!==e.user._id})),user:null});default:return e}}}),K="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,Q=Object(s.d)(q,K(Object(s.a)(o.a))),W=n(3),Z=n(25),$=n(11),ee=n(4),te=n.n(ee),ne=n(9),ae=n(6),ce=n.n(ae),re="https://vital-plus.herokuapp.com/api",se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(re,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(re,"/").concat(e),c=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":c}}):fetch(a,{method:n,headers:{"Content-type":"application/json","x-token":c},body:JSON.stringify(t)})},ie=function(e){return{type:u,payload:e}},le=function(){return{type:l}},ue=function(){return{type:d}},de=n(5),je=(n(86),n.p+"static/media/VitalPlus.dd5321fd.png"),me=n(23),be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(de.a)(t,2),c=n[0],r=n[1],s=function(){r(e)},o=function(e){var t=e.target;r(Object(i.a)(Object(i.a)({},c),{},Object(me.a)({},t.name,t.value)))};return[c,o,s]},pe=n(0),fe=function(){var e=Object(W.b)(),t=be({username:"",password:""}),n=Object(de.a)(t,2),a=n[0],c=n[1],r=a.username,s=a.password;return Object(pe.jsx)("div",{id:"login",className:"container-fluid",children:Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"container text-center col-xs-12 col-sm-12 col-md-9 col-lg-4 mt-5",children:Object(pe.jsxs)("form",{className:"container bg-light rounded animate__animated animate__zoomIn",onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var n=Object(ne.a)(te.a.mark((function n(a){var c,r;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,se("auth/login",{username:e,password:t},"POST");case 2:return c=n.sent,n.next=5,c.json();case 5:(r=n.sent).ok?(localStorage.setItem("token",r.token),localStorage.setItem("token-init-date",(new Date).getTime()),a(ie(r))):r.msg?ce.a.fire("Error",r.msg,"error"):ce.a.fire("Error",r.errors.map((function(e){return e.msg})).join(", "),"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,s))},children:[Object(pe.jsx)("div",{className:"col-xs-3 col-sm-3 col-md-12 col-lg-12 text-center",children:Object(pe.jsx)("img",{className:"rounded w-75 animate__animated animate__zoomIn",src:je,alt:"Logo"})}),Object(pe.jsx)("h3",{className:"text-center mt-2",children:"Inicio de sesi\xf3n"}),Object(pe.jsx)("div",{className:"form-group",children:Object(pe.jsx)("input",{id:"inputUsername",type:"text",className:"form-control mt-4",placeholder:"Nombre de usuario",name:"username",value:r,onChange:c})}),Object(pe.jsx)("div",{className:"form-group",children:Object(pe.jsx)("input",{id:"inputPassword",type:"password",className:"form-control mt-4",placeholder:"Contrase\xf1a",name:"password",value:s,onChange:c})}),Object(pe.jsx)("div",{className:"form-group text-center",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-primary bg-gradient rounded-pill my-5 px-5",children:"Ingresar"})})]})})})})},Oe=function(e){return{type:C,payload:e}},he=function(e){return{type:f,payload:e}},xe=function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("patients/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n(ve(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return{type:v,payload:e}},Ne=function(e){return{type:_,payload:e}},ge=function(){return{type:D}},ye=function(e){return{type:k,payload:e}},Ce=function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("procedures/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n(ke(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return{type:g,payload:e}},we=function(e){return{type:O,payload:e}},Pe=function(e){return{type:S,payload:e}},_e=function(){return{type:A}},Ee=function(e){return{type:w,payload:e}},Se=function(e){return{type:h,payload:e}},Te=function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("professionals/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n(De(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},De=function(e){return{type:N,payload:e}},Ae=function(e){return{type:E,payload:e}},Fe=function(){return{type:F}},Re=function(e){return{type:P,payload:e}},Be=function(e){return{type:x,payload:e}},Me=function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("users/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,n(Ie(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return{type:y,payload:e}},Ye=function(e){return{type:T,payload:e}},Ue=function(){return{type:R}},Ve=n(12),Le=n.n(Ve),ze=(n(31),n(30)),Je=(n(146),function(){return{type:j}}),Ge=function(){return{type:m}},Xe={name:"",document:"",phone:"",address:"",dateOfBirth:"",procedure:"",professional:"",transferred:!1},He=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.procedures})).data,n=Object(W.c)((function(e){return e.professionals})).data,c=Object(W.c)((function(e){return e.modal})).modalDialog,r=Object(W.c)((function(e){return e.patients})).patient,s=Object(a.useState)(t),o=Object(de.a)(s,1)[0],l=Object(a.useState)(n),u=Object(de.a)(l,1)[0],d=Object(a.useState)(Xe),j=Object(de.a)(d,2),m=j[0],b=j[1],p=function(){return Le.a.utc(N).format("YYYY-MM-DD")};Object(a.useEffect)((function(){r&&b(r)}),[r]);var f=function(e){var t=e.target;b(Object(i.a)(Object(i.a)({},m),{},Object(me.a)({},t.name,t.value)))},O=m.name,h=m.document,x=m.phone,v=m.address,N=m.dateOfBirth,g=m.procedure,y=m.professional,C=m.transferred,k=function(){e(Ge())};return Object(pe.jsxs)(ze.a,{open:c,onClose:k,center:!0,children:[Object(pe.jsx)("h2",{className:"mt-4",children:"Actualizaci\xf3n de datos"}),Object(pe.jsxs)("form",{className:"container",onSubmit:function(t){t.preventDefault(),r&&(JSON.stringify(r)!==JSON.stringify(m)?e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("patients/".concat(e._id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,200===a.status?(n(Ne(c)),ce.a.fire("Listo","Paciente actualizado","success")):a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Object(i.a)(Object(i.a)({},m),{},{dateOfBirth:p()}))):ce.a.fire("Atenci\xf3n","Datos no fueron modificados","info")),k()},children:[Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"inputDocument",className:"form-label",children:"No. de documento"}),Object(pe.jsx)("input",{id:"inputDocument",type:"text",className:"form-control",autoComplete:"off",placeholder:"Documento",onChange:f,name:"document",value:h})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{id:"inputName",type:"text",className:"form-control",autoComplete:"off",placeholder:"Nombre",onChange:f,name:"name",value:O})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"inputAddress",className:"form-label",children:"Direcci\xf3n"}),Object(pe.jsx)("input",{id:"inputAddress",type:"text",className:"form-control",autoComplete:"off",placeholder:"Direcci\xf3n",onChange:f,name:"address",value:v})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"inputPhone",className:"form-label",children:"Tel\xe9fono"}),Object(pe.jsx)("input",{id:"inputPhone",type:"text",className:"form-control",autoComplete:"off",placeholder:"Tel\xe9fono",onChange:f,name:"phone",value:x})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"comboProfessional",className:"form-label",children:"Profesional"}),Object(pe.jsx)("select",{id:"comboProfessional",className:"form-control",onChange:f,name:"professional",value:y,children:u.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"comboProcedure",className:"form-label",children:"Tratamiento"}),Object(pe.jsx)("select",{id:"comboProcedure",className:"form-control",onChange:f,name:"procedure",value:g,children:o.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"inputDateOfBirth",className:"form-label",children:"Fecha de nacimiento"}),Object(pe.jsx)("input",{id:"inputDateOfBirth",type:"date",className:"form-control",placeholder:"Fecha de nacimiento",onChange:f,value:p(),name:"dateOfBirth"})]}),Object(pe.jsxs)("div",{className:"mb-3",children:[Object(pe.jsx)("label",{htmlFor:"comboTransferred",className:"form-label",children:"Remitido"}),Object(pe.jsxs)("select",{id:"comboTransferred",className:"form-select",onChange:f,name:"transferred",value:C,children:[Object(pe.jsx)("option",{value:!0,children:"S\xed"}),Object(pe.jsx)("option",{value:!1,children:"No"})]})]}),Object(pe.jsx)("div",{className:"mb-1",children:Object(pe.jsx)("button",{className:"btn btn-primary",children:"Guardar"})})]})]})};Le.a.locale("es");var qe=function(e){var t=e._id,n=e.name,a=e.document,c=e.phone,r=e.address,s=e.dateOfBirth,o=e.procedure,i=e.professional,l=e.transferred,u=Object(W.b)();return Object(pe.jsxs)("div",{className:"card mb-3",children:[Object(pe.jsx)("div",{className:"card-header",children:n}),Object(pe.jsx)("div",{className:"card-body",children:Object(pe.jsxs)("p",{className:"card-text text-capitalize px-2",children:["Documento: ",a,Object(pe.jsx)("br",{}),"Nacimiento: ",Le.a.utc(s).format("MMMM D, YYYY"),Object(pe.jsx)("br",{}),"Direcci\xf3n: ",r,Object(pe.jsx)("br",{}),"Tel\xe9fono: ",c,Object(pe.jsx)("br",{}),"Tratamiento: ",o.name,Object(pe.jsx)("br",{}),"Profesional: ",i.name,Object(pe.jsx)("br",{}),l?"Remitido":"No remitido"]})}),Object(pe.jsxs)("div",{className:"card-footer text-end",children:[Object(pe.jsx)("button",{className:"m-1 btn btn-warning",onClick:function(){u(Je()),u(xe(a))},children:"Actualizar"}),Object(pe.jsx)("button",{className:"m-1 btn btn-danger",onClick:function(){u(xe(a)),u(function(e,t){return function(){var n=Object(ne.a)(te.a.mark((function n(a){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{ce.a.fire({title:"\xbfEst\xe1 seguro?",text:"Eliminar paciente ".concat(t),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(n){n.isConfirmed&&oe("patients/".concat(e),{},"DELETE").then((function(){a(ge()),ce.a.fire("Eliminado","Paciente ".concat(t," eliminado."),"info")}))}))}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:"Eliminar"})]}),Object(pe.jsx)(He,{},t)]})},Ke=function(e){var t=e.patients,n=void 0===t?[]:t;return Object(pe.jsx)("div",{className:"card-columns animate__animated animate__fadeIn",children:Object(pe.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(pe.jsx)("div",{className:"col-md-6",children:n.map((function(e){return Object(pe.jsx)(qe,Object(i.a)({},e),e._id)}))})})})},Qe=function(){var e=Object(W.b)(),t=be({name:"",document:"",phone:"",address:"",dateOfBirth:"",procedure:"",professional:"",transferred:!1}),n=Object(de.a)(t,3),c=n[0],r=n[1],s=n[2],o=Object(W.c)((function(e){return e.procedures})).data,i=Object(W.c)((function(e){return e.professionals})).data,l=Object(W.c)((function(e){return e.patients})).patient,u=Object(a.useState)(o),d=Object(de.a)(u,1)[0],j=Object(a.useState)(i),m=Object(de.a)(j,1)[0],b=c.name,p=c.document,f=c.phone,O=c.address,h=c.dateOfBirth,x=c.procedure,v=c.professional,N=c.transferred;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Agregar nuevo paciente"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("patients",e,"POST");case 3:if(200!==(a=t.sent).status){t.next=12;break}return t.next=7,a.json();case 7:c=t.sent,n(Oe(c)),ce.a.fire("Listo","Paciente registrado","success"),t.next=13;break;case 12:a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()}(c)),JSON.stringify(l)===JSON.stringify(c)&&s()},children:[Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputDocument",className:"form-label",children:"No. de documento"}),Object(pe.jsx)("input",{type:"number",className:"form-control",id:"inputDocument",autoComplete:"off",name:"document",value:p,onChange:r})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",autoComplete:"off",name:"name",value:b,onChange:r})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputAddress",className:"form-label",children:"Direcci\xf3n"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputAddress",autoComplete:"off",name:"address",value:O,onChange:r})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputPhone",className:"form-label",children:"Tel\xe9fono"}),Object(pe.jsx)("input",{type:"number",className:"form-control",id:"inputPhone",autoComplete:"off",name:"phone",value:f,onChange:r})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"comboProfessional",className:"form-label",children:"Profesional"}),Object(pe.jsxs)("select",{id:"comboProfessional",className:"form-select",name:"professional",value:v,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Seleccione..."}),m.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"comboProcedure",className:"form-label",children:"Tratamiento"}),Object(pe.jsxs)("select",{id:"comboProcedure",className:"form-select",name:"procedure",value:x,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Seleccione..."}),d.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputDateOfBirth",className:"form-check-label col-md-12",children:"Fecha de nacimiento"}),Object(pe.jsx)("input",{id:"inputDateOfBirth",type:"date",className:"form-control mt-2",name:"dateOfBirth",value:h,onChange:r})]}),Object(pe.jsxs)("div",{className:"col-md-2",children:[Object(pe.jsx)("label",{htmlFor:"comboTransferred",className:"form-check-label mt-2",children:"Remitido"}),Object(pe.jsxs)("select",{id:"comboTransferred",className:"form-select",name:"transferred",value:N,onChange:r,children:[Object(pe.jsx)("option",{value:!0,children:"S\xed"}),Object(pe.jsx)("option",{value:!1,children:"No"})]})]}),Object(pe.jsx)("div",{className:"col-md-7 mt-4",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},We=function(){var e=Object(W.c)((function(e){return e.patients})).data,t=Object(a.useState)(e),n=Object(de.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(de.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){r(e)}),[e]);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Pacientes"}),Object(pe.jsx)("hr",{}),Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("button",{onClick:function(){l(!i)},className:i?"btn btn-danger":"btn btn-primary",children:i?"Cancelar":"Nuevo"}),i&&Object(pe.jsx)(Qe,{})]}),Object(pe.jsx)(Ke,{patients:c})]})},Ze=function(e){return{type:b,payload:e}},$e=function(e){return{type:p,payload:e}};Le.a.locale("es");var et=function(e){var t=e.value,n=e.method,a=(e.patient,e.professional),c=e.procedure,r=e.type,s=e.date,o=e.balance;return Object(pe.jsxs)("div",{className:"card mb-3",children:[Object(pe.jsx)("div",{className:"card-header",children:Object(pe.jsxs)("h5",{className:"text-dark",children:[c.name," - ",c.type," - Valor: ",c.value]})}),Object(pe.jsxs)("div",{className:"card-body",children:[Object(pe.jsxs)("h5",{className:"card-title",children:["Valor: ",t]}),Object(pe.jsx)("p",{className:function(e){switch(e){case"EFECTIVO":return"card-text text-success";case"DEBITO":return"card-text text-primary";case"CREDITO":return"card-text text-warning";default:return"card-text text-dark"}}(n),children:n}),Object(pe.jsx)("p",{className:"card-text text-primary",children:r}),Object(pe.jsxs)("p",{className:"card-text text-dark",children:["Profesional: ",a.name]}),Object(pe.jsx)("p",{className:"card-text text-capitalize",children:Le()(s).utc().format("MMMM D, YYYY")}),Object(pe.jsxs)("p",{className:"card-text text-danger",children:["Saldo: ",o]})]})]})},tt=function(e){var t=e.payments,n=void 0===t?[]:t;return Object(pe.jsx)("div",{className:"card-columns animate__animated animate__fadeIn",children:n.map((function(e,t){return Object(pe.jsx)(et,Object(i.a)({},e),t)}))})},nt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.procedures})).data,n=Object(W.c)((function(e){return e.professionals})).data,c=Object(W.c)((function(e){return e.patients})).patient,r=Object(a.useState)(t),s=Object(de.a)(r,1)[0],o=Object(a.useState)(n),i=Object(de.a)(o,1)[0],l=be({value:"",method:"",patient:"",professional:"",procedure:"",type:"",date:""}),u=Object(de.a)(l,2),d=u[0],j=u[1],m=d.value,b=d.method,p=d.professional,f=d.procedure,O=d.type,h=function(){return Le()().utc().format("YYYY-MM-DD")};return Object(pe.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),c?(d.patient=c._id,d.date=h(),e((n=d,function(){var e=Object(ne.a)(te.a.mark((function e(t){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("payments",n,"POST");case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:c=e.sent,t($e(c)),ce.a.fire("Listo","Pago registrado","success"),e.next=13;break;case 12:a.json().then((function(e){e.errors?ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error"):ce.a.fire("Error",e.msg,"error")}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()))):ce.a.fire("Atenci\xf3n","No se ha consultado ning\xfan paciente","warning")},children:[Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-sm-6 mb-2",children:Object(pe.jsx)("input",{id:"inputValue",type:"number",className:"form-control",placeholder:"Valor del abono",autoComplete:"off",name:"value",value:m,onChange:j})}),Object(pe.jsx)("div",{className:"col-sm-6",children:Object(pe.jsxs)("div",{className:"btn-group",children:[Object(pe.jsx)("input",{id:"initialFee",type:"radio",className:"btn-check",autoComplete:"off",name:"type",value:"INICIAL",checked:"INICIAL"===O,onChange:j}),Object(pe.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"initialFee",children:"Cuota inicial"}),Object(pe.jsx)("input",{id:"normalFee",type:"radio",className:"btn-check",autoComplete:"off",name:"type",value:"ABONO",checked:"ABONO"===O,onChange:j}),Object(pe.jsx)("label",{className:"btn btn-outline-primary",htmlFor:"normalFee",children:"Abono"})]})}),Object(pe.jsx)("div",{className:"col-sm-6 mt-2",children:Object(pe.jsxs)("select",{className:"form-select",name:"procedure",value:f,onChange:j,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Tratamiento..."}),s.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})}),Object(pe.jsxs)("div",{className:"col-sm-6 mt-2",children:[Object(pe.jsx)("input",{id:"efectiveMethod",type:"radio",className:"btn-check",autoComplete:"off",name:"method",value:"EFECTIVO",checked:"EFECTIVO"===b,onChange:j}),Object(pe.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"efectiveMethod",children:"Efectivo"}),Object(pe.jsx)("input",{id:"creditMethod",type:"radio",className:"btn-check",autoComplete:"off",name:"method",value:"CREDITO",checked:"CREDITO"===b,onChange:j}),Object(pe.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"creditMethod",children:"Cr\xe9dito"}),Object(pe.jsx)("input",{id:"debitMethod",type:"radio",className:"btn-check",autoComplete:"off",name:"method",value:"DEBITO",checked:"DEBITO"===b,onChange:j}),Object(pe.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"debitMethod",children:"D\xe9bito"})]}),Object(pe.jsx)("div",{className:"col-sm-6 mt-2",children:Object(pe.jsxs)("select",{className:"form-select",name:"professional",value:p,onChange:j,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Profesional..."}),i.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})}),Object(pe.jsx)("div",{className:"col-sm-6 mt-2",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success",children:"Registrar"})})]}),Object(pe.jsx)("hr",{})]})},at=function(){var e=Object(W.b)(),t=be({document:""}),n=Object(de.a)(t,2),c=n[0],r=n[1],s=c.document,o=Object(W.c)((function(e){return e.payments})).data,i=Object(W.c)((function(e){return e.patients})).patient,l=Object(a.useState)([]),u=Object(de.a)(l,2),d=u[0],j=u[1],m=Object(a.useState)(!1),b=Object(de.a)(m,2),p=b[0],f=b[1];Object(a.useEffect)((function(){j(o),e(xe(s))}),[e,o,s]);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("h3",{className:"fs-3 text-center mt-3",children:"Pagos"}),Object(pe.jsx)("hr",{}),Object(pe.jsxs)("div",{className:"row justify-content-center",children:[Object(pe.jsxs)("div",{className:"col-md-12",children:[Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-md-6",children:Object(pe.jsx)("button",{onClick:function(){f(!p)},className:p?"btn btn-danger":"btn btn-primary",children:p?"Cancelar":"Nuevo"})})}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-sm-12 col-md-6 mt-2 order-first",children:p&&Object(pe.jsx)(nt,{})})}),Object(pe.jsx)("div",{className:"row",children:Object(pe.jsx)("div",{className:"col-md-12",children:Object(pe.jsx)("form",{onSubmit:function(t){t.preventDefault(),i.document?(ce.a.fire("","Paciente ".concat(i.name),"info"),e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c,r;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("payments/patients/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:c=t.sent,r=c.payments,n(Ze(r)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}(s))):ce.a.fire("","No se encontraron pacientes con documento ".concat(s),"warning")},children:Object(pe.jsxs)("div",{className:"row justify-content-center",children:[Object(pe.jsx)("div",{className:"col-sm-12 col-md-4 offset-md-2 my-2",children:Object(pe.jsx)("div",{className:"form-group",children:Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputDocument",name:"document",placeholder:"C\xe9dula del paciente",onChange:r,value:s,autoComplete:"off"})})}),Object(pe.jsx)("div",{className:"col-sm-12 col-md-4",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-primary my-2",children:"Buscar"})})]})})})})]}),Object(pe.jsx)("div",{className:"col-sm-12 col-md-6 order-last",children:d&&Object(pe.jsx)(tt,{payments:d})})]})]})},ct=function(){var e=Object(W.b)(),t=be({name:"",value:"",type:"",description:""}),n=Object(de.a)(t,3),a=n[0],c=n[1],r=n[2],s=a.name,o=a.value,i=a.type,l=a.description;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Agregar nuevo tratamiento/extra"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){var n;t.preventDefault(),e((n=a,function(){var e=Object(ne.a)(te.a.mark((function e(t){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("procedures",n,"POST");case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:c=e.sent,t(ye(c)),"EXTRA"===c.type?ce.a.fire("Listo","Gasto extra registrado","success"):ce.a.fire("Listo","Tratamiento registrado","success"),e.next=13;break;case 12:a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())),r()},children:[Object(pe.jsxs)("div",{className:"form-group col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",autoComplete:"off",value:s,name:"name",onChange:c})]}),Object(pe.jsxs)("div",{className:"form-group col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputValue",className:"form-label",children:"Costo"}),Object(pe.jsx)("input",{type:"number",className:"form-control",id:"inputValue",autoComplete:"off",value:o,name:"value",onChange:c})]}),Object(pe.jsxs)("div",{className:"form-group col-md-4 mt-5",children:[Object(pe.jsx)("input",{type:"radio",className:"btn-check",name:"type",id:"normalProcedure",value:"TRATAMIENTO",checked:"TRATAMIENTO"===i,onChange:c}),Object(pe.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"normalProcedure",children:"Tratamiento"}),Object(pe.jsx)("input",{type:"radio",className:"btn-check",name:"type",id:"extraProcedure",value:"EXTRA",checked:"EXTRA"===i,onChange:c}),Object(pe.jsx)("label",{className:"btn btn-outline-secondary",htmlFor:"extraProcedure",children:"Extra"})]}),Object(pe.jsxs)("div",{className:"form-group",children:[Object(pe.jsx)("label",{htmlFor:"inputDescription",children:"Descripci\xf3n"}),Object(pe.jsx)("textarea",{id:"inputDescription",className:"form-control",rows:"2",autoComplete:"off",name:"description",value:l,onChange:c})]}),Object(pe.jsx)("div",{className:"form-group col-12",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},rt={name:"",value:"",type:"",description:""},st=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.modal})).modalDialog,n=Object(W.c)((function(e){return e.procedures})).procedure,c=Object(a.useState)(rt),r=Object(de.a)(c,2),s=r[0],o=r[1],l=s.name,u=s.value,d=s.type,j=s.description;Object(a.useEffect)((function(){n&&o(n)}),[n]);var m=function(e){var t=e.target;o(Object(i.a)(Object(i.a)({},s),{},Object(me.a)({},t.name,t.value)))},b=function(){e(Ge())};return Object(pe.jsxs)(ze.a,{open:t,onClose:b,center:!0,children:[Object(pe.jsx)("h2",{className:"mt-4",children:"Actualizaci\xf3n de tratamiento"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){t.preventDefault(),n&&(JSON.stringify(n)===JSON.stringify(s)?ce.a.fire("Atenci\xf3n","No hubo cambios","info"):e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("procedures/".concat(e._id),e,"PUT");case 3:200===(a=t.sent).status?(n(Pe(e)),"EXTRA"===e.type?ce.a.fire("Listo","Gasto extra actualizado","success"):ce.a.fire("Listo","Tratamiento actualizado","success")):a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error"),console.log(e.errors)})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s))),b()},children:[Object(pe.jsxs)("div",{className:"form-group col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",autoComplete:"off",value:l,name:"name",onChange:m})]}),Object(pe.jsxs)("div",{className:"form-group col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputValue",className:"form-label",children:"Costo"}),Object(pe.jsx)("input",{type:"number",className:"form-control",id:"inputValue",autoComplete:"off",value:u,name:"value",onChange:m})]}),Object(pe.jsx)("div",{className:"form-group col-md-4 mt-5",children:Object(pe.jsxs)("select",{id:"comboType",className:"form-control",onChange:m,name:"type",value:d,children:[Object(pe.jsx)("option",{value:"TRATAMIENTO",children:"TRATAMIENTO"}),Object(pe.jsx)("option",{value:"EXTRA",children:"EXTRA"})]})}),Object(pe.jsxs)("div",{className:"form-group",children:[Object(pe.jsx)("label",{htmlFor:"inputDescription",children:"Descripci\xf3n"}),Object(pe.jsx)("textarea",{id:"inputDescription",className:"form-control",rows:"2",autoComplete:"off",name:"description",value:j,onChange:m})]}),Object(pe.jsx)("div",{className:"form-group col-12",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},ot=function(e){var t=e._id,n=e.name,a=e.value,c=e.type,r=e.description,s=Object(W.b)();return Object(pe.jsxs)("div",{className:"card mb-3",children:[Object(pe.jsx)("div",{className:"card-header",children:n}),Object(pe.jsxs)("div",{className:"card-body",children:[Object(pe.jsx)("p",{className:"card-text",children:a}),Object(pe.jsx)("p",{className:"card-text",children:c}),Object(pe.jsx)("p",{className:"card-text",children:r})]}),Object(pe.jsxs)("div",{className:"card-footer text-end",children:[Object(pe.jsx)("button",{className:"card-link btn btn-warning",onClick:function(){s(Je()),s(Ce(t))},children:"Actualizar"}),Object(pe.jsx)("button",{className:"card-link btn btn-danger",onClick:function(){s(Ce(t)),s(function(e,t){return function(){var n=Object(ne.a)(te.a.mark((function n(a){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{ce.a.fire({title:"\xbfEst\xe1 seguro?",text:"Eliminar concepto ".concat(t),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(n){n.isConfirmed&&oe("procedures/".concat(e),{},"DELETE").then((function(){a(_e()),ce.a.fire("Listo","Concepto ".concat(t," eliminado"),"info")}))}))}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:"Eliminar"})]}),Object(pe.jsx)(st,{})]})},it=function(e){var t=e.procedures,n=void 0===t?[]:t;return Object(pe.jsx)("div",{className:"card-columns animate__animated animate__fadeIn",children:Object(pe.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(pe.jsx)("div",{className:"col-md-6",children:n.map((function(e){return Object(pe.jsx)(ot,Object(i.a)({},e),e._id)}))})})})},lt=function(){var e=Object(W.c)((function(e){return e.procedures})).data,t=Object(a.useState)(e),n=Object(de.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){r(e)}),[e]);var s=Object(a.useState)(!1),o=Object(de.a)(s,2),i=o[0],l=o[1];return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Tratamientos"}),Object(pe.jsx)("hr",{}),Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("button",{onClick:function(){l(!i)},className:i?"btn btn-danger":"btn btn-primary",children:i?"Cancelar":"Nuevo"}),i&&Object(pe.jsx)(ct,{})]}),Object(pe.jsx)(it,{procedures:c})]})},ut={document:"",name:"",specialty:""},dt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.modal})).modalDialog,n=Object(W.c)((function(e){return e.professionals})).professional,c=Object(a.useState)(ut),r=Object(de.a)(c,2),s=r[0],o=r[1],l=s.document,u=s.name,d=s.specialty;Object(a.useEffect)((function(){n&&o(n)}),[n]);var j=function(e){var t=e.target;o(Object(i.a)(Object(i.a)({},s),{},Object(me.a)({},t.name,t.value)))},m=function(){e(Ge())};return Object(pe.jsxs)(ze.a,{open:t,onClose:m,center:!0,children:[Object(pe.jsx)("h2",{className:"mt-4",children:"Actualizaci\xf3n de profesional"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){t.preventDefault(),n&&e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("professionals/".concat(e._id),e,"PUT");case 3:200===(a=t.sent).status?(n(Ae(e)),ce.a.fire("Listo","Profesional actualizado","success")):a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s)),m()},children:[Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputDocument",className:"form-label",children:"No. de documento"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputDocument",onChange:j,name:"document",autoComplete:"off",value:l})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:j,name:"name",autoComplete:"off",value:u})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputSpecialty",className:"form-label",children:"Especialidad"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputSpecialty",onChange:j,name:"specialty",autoComplete:"off",value:d})]}),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},jt=function(e){var t=e._id,n=e.document,a=e.name,c=e.specialty,r=Object(W.b)();return Object(pe.jsxs)("div",{className:"card mb-3",children:[Object(pe.jsx)("div",{className:"card-header",children:a}),Object(pe.jsx)("div",{className:"card-body",children:Object(pe.jsx)("p",{className:"card-text",children:c})}),Object(pe.jsxs)("div",{className:"card-footer text-end",children:[Object(pe.jsx)("button",{className:"card-link btn btn-warning",onClick:function(){r(Je()),r(Te(n))},children:"Actualizar"}),Object(pe.jsx)("button",{className:"card-link btn btn-danger",onClick:function(){r(Te(n)),r(function(e,t){return function(){var n=Object(ne.a)(te.a.mark((function n(a){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{ce.a.fire({title:"\xbfEst\xe1 seguro?",text:"Eliminar profesional ".concat(t),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(n){n.isConfirmed&&oe("professionals/".concat(e),{},"DELETE").then((function(){a(Fe()),ce.a.fire("Eliminado","Profesional ".concat(t," eliminado."),"info")}))}))}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,a))},children:"Eliminar"})]}),Object(pe.jsx)(dt,{})]})},mt=function(e){var t=e.professionals,n=void 0===t?[]:t;return Object(pe.jsx)("div",{className:"card-columns animate__animated animate__fadeIn",children:Object(pe.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(pe.jsx)("div",{className:"col-md-6",children:n.map((function(e){return Object(pe.jsx)(jt,Object(i.a)({},e),e._id)}))})})})},bt=function(){var e=Object(W.b)(),t=be({document:"",name:"",specialty:""}),n=Object(de.a)(t,3),a=n[0],c=n[1],r=n[2],s=a.document,o=a.name,i=a.specialty;return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Agregar nuevo profesional"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){var n;t.preventDefault(),e((n=a,function(){var e=Object(ne.a)(te.a.mark((function e(t){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("professionals",n,"POST");case 3:if(200!==(a=e.sent).status){e.next=12;break}return e.next=7,a.json();case 7:c=e.sent,t(Ee(c)),ce.a.fire("Resgitro exitoso","Profesional registrado","success"),e.next=13;break;case 12:a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}())),r()},children:[Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputDocument",className:"form-label",children:"No. de documento"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputDocument",onChange:c,name:"document",autoComplete:"off",value:s})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:c,name:"name",autoComplete:"off",value:o})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputSpecialty",className:"form-label",children:"Especialidad"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputSpecialty",onChange:c,name:"specialty",autoComplete:"off",value:i})]}),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},pt=function(){var e=Object(W.c)((function(e){return e.professionals})).data,t=Object(a.useState)(e),n=Object(de.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(de.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){r(e)}),[e]);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Profesionales"}),Object(pe.jsx)("hr",{}),Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("button",{onClick:function(){l(!i)},className:i?"btn btn-danger":"btn btn-primary",children:i?"Ocultar":"Nuevo"}),i&&Object(pe.jsx)(bt,{})]}),Object(pe.jsx)(mt,{professionals:c})]})},ft=function(e,t){return{type:B,payload:{reports:e,total:t}}},Ot=function(e,t){return{type:M,payload:{reports:e,total:t}}},ht=function(e,t){return{type:I,payload:{reports:e,total:t}}},xt=n(39),vt=n.n(xt);Le.a.locale("es");var Nt=function(e){var t=e.payments,n=void 0===t?[]:t,a=e.total,c=function(e){return Le()(e).format("MMMM D, YYYY")};return Object(pe.jsxs)("div",{className:"col-md-12 table-responsive-md mt-5",children:[Object(pe.jsx)(vt.a,{id:"excelButton",className:"btn btn-success",table:"tablePatients",filename:"ReportePorPaciente",sheet:"Hoja1",buttonText:"Exportar a Excel"}),Object(pe.jsxs)("table",{id:"tablePatients",className:"table",children:[Object(pe.jsx)("thead",{children:Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("th",{children:"Fecha"}),Object(pe.jsx)("th",{children:"Valor"}),Object(pe.jsx)("th",{children:"M\xe9todo de pago"}),Object(pe.jsx)("th",{children:"Tipo de pago"}),Object(pe.jsx)("th",{children:"Tratamiento"}),Object(pe.jsx)("th",{children:"Profesional"}),Object(pe.jsx)("th",{children:"Saldo"}),Object(pe.jsx)("th",{children:"Total"}),Object(pe.jsxs)("th",{children:["Registros: ",a]})]})}),Object(pe.jsx)("tbody",{children:n.map((function(e,t){var n=e.value,a=e.method,r=e.type,s=e.date,o=e.professional,i=e.procedure,l=e.balance;return Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("td",{className:"text-capitalize",children:c(s)}),Object(pe.jsx)("td",{children:n}),Object(pe.jsx)("td",{children:a}),Object(pe.jsx)("td",{children:r}),Object(pe.jsx)("td",{children:i.name}),Object(pe.jsx)("td",{children:o.name}),Object(pe.jsx)("td",{children:l}),Object(pe.jsx)("td",{children:i.value})]},t)}))})]})]})};Le.a.locale("es");var gt=function(e){var t=e.payments,n=void 0===t?[]:t,a=e.total,c=function(e){return Le()(e).format("MMMM D, YYYY")};return Object(pe.jsxs)("div",{className:"col-md-12 table-responsive-md mt-5",children:[Object(pe.jsx)(vt.a,{id:"excelButton",className:"btn btn-success",table:"tableProcedures",filename:"ReportePorProcedimiento",sheet:"Hoja1",buttonText:"Exportar a Excel"}),Object(pe.jsxs)("table",{id:"tableProcedures",className:"table",children:[Object(pe.jsx)("thead",{children:Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("th",{children:"Fecha"}),Object(pe.jsx)("th",{children:"Valor"}),Object(pe.jsx)("th",{children:"M\xe9todo de pago"}),Object(pe.jsx)("th",{children:"Tipo de pago"}),Object(pe.jsx)("th",{children:"Profesional"}),Object(pe.jsx)("th",{children:"Balance"}),Object(pe.jsxs)("th",{children:["Total: ",a]})]})}),Object(pe.jsx)("tbody",{children:n.map((function(e,t){var n=e.value,a=e.method,r=e.type,s=e.date,o=e.professional,i=e.balance;return Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("td",{className:"text-capitalize",children:c(s)}),Object(pe.jsx)("td",{children:n}),Object(pe.jsx)("td",{children:a}),Object(pe.jsx)("td",{children:r}),Object(pe.jsx)("td",{children:o.name}),Object(pe.jsx)("td",{children:i})]},t)}))})]})]})};Le.a.locale("es");var yt=function(e){var t=e.payments,n=void 0===t?[]:t,a=e.total,c=function(e){return Le()(e).format("MMMM D, YYYY")};return Object(pe.jsxs)("div",{className:"col-md-12 table-responsive-md mt-5",children:[Object(pe.jsx)(vt.a,{id:"excelButton",className:"btn btn-success",table:"tableProfessionals",filename:"ReportePorProfesional",sheet:"Hoja1",buttonText:"Exportar a Excel"}),Object(pe.jsxs)("table",{id:"tableProfessionals",className:"table",children:[Object(pe.jsx)("thead",{children:Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("th",{children:"Fecha"}),Object(pe.jsx)("th",{children:"Valor"}),Object(pe.jsx)("th",{children:"M\xe9todo de pago"}),Object(pe.jsx)("th",{children:"Tipo de pago"}),Object(pe.jsx)("th",{children:"Tratamiento"}),Object(pe.jsx)("th",{children:"Saldo"}),Object(pe.jsx)("th",{children:"Total"}),Object(pe.jsxs)("th",{children:["Registros: ",a]})]})}),Object(pe.jsx)("tbody",{children:n.map((function(e,t){var n=e.value,a=e.method,r=e.type,s=e.date,o=e.procedure,i=e.balance;return Object(pe.jsxs)("tr",{children:[Object(pe.jsx)("td",{className:"text-capitalize",children:c(s)}),Object(pe.jsx)("td",{children:n}),Object(pe.jsx)("td",{children:a}),Object(pe.jsx)("td",{children:r}),Object(pe.jsx)("td",{children:o.name}),Object(pe.jsx)("td",{children:i}),Object(pe.jsx)("td",{children:o.value})]},t)}))})]})]})},Ct=function(){var e=Object(W.b)(),t=be({collection:"",range:"",document:"",id:""}),n=Object(de.a)(t,2),c=n[0],r=n[1],s=c.collection,o=c.range,i=c.document,l=c.id,u=Object(W.c)((function(e){return e.procedures})).data,d=Object(W.c)((function(e){return e.professionals})).data,j=Object(W.c)((function(e){return e.reports})),m=j.data,b=j.total,p=Object(W.c)((function(e){return e.patients})).patient,f=Object(a.useState)(u),O=Object(de.a)(f,2),h=O[0],x=O[1],v=Object(a.useState)(d),N=Object(de.a)(v,2),g=N[0],y=N[1],C=Object(a.useState)(!1),k=Object(de.a)(C,2),w=k[0],P=k[1],_=Object(a.useState)(!1),E=Object(de.a)(_,2),S=E[0],T=E[1],D=Object(a.useState)(m),A=Object(de.a)(D,2),F=A[0],R=A[1],B=Object(a.useState)(b),M=Object(de.a)(B,2),I=M[0],Y=M[1];Object(a.useEffect)((function(){R(m),x(u),y(d),Y(b),e(xe(i))}),[m,u,d,b,e,i]);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("h3",{className:"text-center mt-3",children:"Reportes"}),Object(pe.jsx)("hr",{}),Object(pe.jsx)("form",{onSubmit:function(t){switch(t.preventDefault(),s){case"procedures":e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(ne.a)(te.a.mark((function n(a){var c,r,s,o;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,se("search/procedures/".concat(e,"/").concat(t));case 3:return c=n.sent,n.next=6,c.json();case 6:r=n.sent,s=r.payments,o=r.total,a(Ot(s,o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,l)),T(!1),P(!0);break;case"professionals":e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(ne.a)(te.a.mark((function n(a){var c,r,s,o;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,se("search/professionals/".concat(e,"/").concat(t));case 3:return c=n.sent,n.next=6,c.json();case 6:r=n.sent,s=r.payments,o=r.total,a(ht(s,o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,l)),P(!1),T(!0);break;default:e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=Object(ne.a)(te.a.mark((function n(a){var c,r,s,o;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,se("search/patients/".concat(e,"/").concat(t));case 3:return c=n.sent,n.next=6,c.json();case 6:r=n.sent,s=r.payments,o=r.total,a(ft(s,o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,p._id))}},children:Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-md-3 mb-1",children:Object(pe.jsxs)("select",{id:"comboRange",className:"form-select",name:"range",value:o,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Lapso..."}),Object(pe.jsx)("option",{value:"year",children:"A\xf1o"}),Object(pe.jsx)("option",{value:"semester",children:"Semestre"}),Object(pe.jsx)("option",{value:"month",children:"Mes"}),Object(pe.jsx)("option",{value:"week",children:"Semana"})]})}),Object(pe.jsx)("div",{className:"col-md-3 mb-1",children:Object(pe.jsxs)("select",{id:"comboCollection",className:"form-select",name:"collection",value:s,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Criterio..."}),Object(pe.jsx)("option",{value:"patients",children:"Paciente"}),Object(pe.jsx)("option",{value:"procedures",children:"Procedimiento"}),Object(pe.jsx)("option",{value:"professionals",children:"Profesional"})]})}),"patients"===s&&Object(pe.jsx)("div",{className:"col-md-3 mb-1",children:Object(pe.jsx)("input",{id:"patientDocument",className:"form-control",autoComplete:"off",name:"document",placeholder:"Documento del paciente...",value:i,onChange:r})}),"procedures"===s&&Object(pe.jsx)("div",{className:"col-md-3 mb-1",children:Object(pe.jsxs)("select",{id:"comboProcedure",className:"form-select",name:"id",value:l,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Seleccione..."}),h&&h.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})}),"professionals"===s&&Object(pe.jsx)("div",{className:"col-md-3 mb-1",children:Object(pe.jsxs)("select",{id:"comboProfessional",className:"form-select",name:"id",value:l,onChange:r,children:[Object(pe.jsx)("option",{defaultValue:!0,children:"Seleccione..."}),g.map((function(e,t){return Object(pe.jsx)("option",{value:e._id,children:e.name},t)}))]})}),l&&Object(pe.jsx)("div",{className:"col-md-2 mb-1",children:Object(pe.jsx)("button",{className:"btn btn-primary",children:"Consultar"})})]})}),Object(pe.jsxs)("div",{className:"row",children:["procedures"===s&&w&&Object(pe.jsx)(gt,{payments:F,total:I}),"professionals"===s&&S&&Object(pe.jsx)(yt,{payments:F,total:I}),"patients"===s&&i&&Object(pe.jsx)(Nt,{payments:F,total:I})]})]})},kt=n(13),wt=n(58),Pt=n.n(wt),_t={name:"",email:"",username:"",password:"",role:""},Et=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.modal})).modalDialog,n=Object(W.c)((function(e){return e.users})).user,c=Object(a.useState)(_t),r=Object(de.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(!1),u=Object(de.a)(l,2),d=u[0],j=u[1],m=Object(a.useState)(""),b=Object(de.a)(m,2),p=b[0],f=b[1],O=s.name,h=s.username,x=s.role;Object(a.useEffect)((function(){n&&o(n)}),[n]);var v=function(e){var t=e.target;o(Object(i.a)(Object(i.a)({},s),{},Object(me.a)({},t.name,t.value)))},N=function(){e(Ge())};return Object(pe.jsxs)(ze.a,{open:t,onClose:N,center:!0,children:[Object(pe.jsx)("h2",{className:"mt-4",children:"Actualizaci\xf3n de usuario"}),Object(pe.jsxs)("form",{className:"row g-3",onSubmit:function(t){t.preventDefault(),console.log(s),n&&(JSON.stringify(n)!==JSON.stringify(s)?(o(Object(i.a)(Object(i.a)({},s),{},{password:p})),e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("users/".concat(e._id),e,"PUT");case 3:200===(a=t.sent).status?(n(Ye(e)),ce.a.fire("Listo","Usuario actualizado","success")):a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(s)),j(!1)):ce.a.fire("Atenci\xf3n","Datos no fueron modificados","info")),N()},children:[Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputName",className:"form-label",children:"Nombre"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputName",onChange:v,name:"name",autoComplete:"off",value:O})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputUsername",className:"form-label",children:"Usuario"}),Object(pe.jsx)("input",{type:"text",className:"form-control",id:"inputDocument",onChange:v,name:"username",autoComplete:"off",value:h})]}),Object(pe.jsxs)("div",{className:"col-md-4",children:[Object(pe.jsx)("label",{htmlFor:"inputRole",className:"form-label",children:"Rol"}),Object(pe.jsxs)("select",{id:"inputRole",className:"form-select",name:"role",value:x,onChange:v,children:[Object(pe.jsx)("option",{value:"ADMIN",children:"Administrador"}),Object(pe.jsx)("option",{value:"AGENT",children:"Agente"})]})]}),Object(pe.jsx)("div",{className:"col-md-4",children:Object(pe.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var e=Pt.a.generate({length:10,numbers:!0,uppercase:!1});j(!0),f(e),o(Object(i.a)(Object(i.a)({},s),{},{password:e}))},children:"Reestablecer contrase\xf1a"})}),d&&Object(pe.jsx)("div",{className:"col-md-5",children:Object(pe.jsxs)("div",{className:"border border-primary rounded text-center text-light",children:[Object(pe.jsx)("button",{onClick:function(){j(!1)},className:"btn text-primary float-end",children:Object(pe.jsx)(kt.e,{})}),Object(pe.jsx)("div",{className:"clearfix"}),n&&Object(pe.jsxs)("p",{className:"text-start text-primary",children:["Contrase\xf1a: ",p]})]})}),Object(pe.jsx)("div",{className:"col-12",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Registrar"})})]})]})},St=function(e){var t=e._id,n=e.name,a=e.email,c=e.username,r=e.role,s=Object(W.b)();return Object(pe.jsxs)("div",{className:"card mb-3",children:[Object(pe.jsx)("div",{className:"card-header",children:n}),Object(pe.jsxs)("div",{className:"card-body",children:[Object(pe.jsx)("p",{className:"card-text",children:c}),"ADMIN"===r?Object(pe.jsxs)("p",{className:"card-text fs-5 text-info",children:[Object(pe.jsx)(kt.k,{className:"card-text fs-3 text-dark"}),"\xa0Administrador"]}):Object(pe.jsxs)("p",{className:"card-text fs-5 text-secondary",children:[Object(pe.jsx)(kt.h,{className:"card-text fs-3 text-dark"}),"\xa0Agente"]})]}),Object(pe.jsxs)("div",{className:"card-footer text-end",children:[Object(pe.jsx)("button",{className:"card-link btn btn-warning",onClick:function(){s(Je()),s(Me(a))},children:"Actualizar"}),Object(pe.jsx)("button",{className:"card-link btn btn-danger",onClick:function(){s(Me(a)),s(function(e,t){return function(){var n=Object(ne.a)(te.a.mark((function n(a){return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{ce.a.fire({title:"\xbfEst\xe1 seguro?",text:"Eliminar usuario ".concat(t),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed",cancelButtonText:"No"}).then((function(n){n.isConfirmed&&oe("users/".concat(e),{},"DELETE").then((function(){a(Ue()),ce.a.fire("Eliminado","Usuario ".concat(t," eliminado."),"info")}))}))}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},children:"Eliminar"})]}),Object(pe.jsx)(Et,{})]})},Tt=function(e){var t=e.users,n=void 0===t?[]:t;return Object(pe.jsx)("div",{className:"card-columns animate__animated animate__fadeIn",children:Object(pe.jsx)("div",{className:"row mt-5 justify-content-center",children:Object(pe.jsx)("div",{className:"col-md-12",children:n.map((function(e,t){return Object(pe.jsx)(St,Object(i.a)({},e),t)}))})})})},Dt=function(){var e=Object(W.b)(),t=Object(a.useState)(!1),n=Object(de.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(de.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)({name:"",email:"",username:"",password:"",role:""}),d=Object(de.a)(u,2),j=d[0],m=d[1],b=Object(W.c)((function(e){return e.users})).user,p=be({name:"",email:"",password:"",role:""}),f=Object(de.a)(p,3),O=f[0],h=f[1],x=f[2],v=O.name,N=O.email,g=O.role;Object(a.useEffect)((function(){m(b)}),[e,N,b]);return Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("p",{className:"fs-3 text-center mt-3",children:"Agregar nuevo usuario"}),Object(pe.jsx)("form",{onSubmit:function(t){t.preventDefault();var n=Pt.a.generate({length:10,numbers:!0,uppercase:!1});l(n),O.password=n,e(function(e){return function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se("users",e,"POST");case 3:if(200!==(a=t.sent).status){t.next=12;break}return t.next=7,a.json();case 7:c=t.sent,n(Re(c)),ce.a.fire("Listo","Usuario registrado","success"),t.next=13;break;case 12:a.json().then((function(e){ce.a.fire("Error",e.errors.map((function(e){return e.msg})).join(", "),"error")}));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.error(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()}(O)),r(!0),x()},children:Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-md-3 mt-1",children:Object(pe.jsx)("input",{id:"inputName",type:"text",className:"form-control",placeholder:"Nombre de usuario",autoComplete:"off",name:"name",value:v,onChange:h})}),Object(pe.jsx)("div",{className:"col-md-3 mt-1",children:Object(pe.jsx)("input",{id:"inputEmail",type:"email",className:"form-control",placeholder:"Email de usuario",autoComplete:"off",name:"email",value:N,onChange:h})}),Object(pe.jsx)("div",{className:"col-md-3 mt-1",children:Object(pe.jsxs)("select",{id:"inputRole",className:"form-select",name:"role",value:g,onChange:h,children:[Object(pe.jsx)("option",{defaultChecked:!0,children:"Rol de usuario..."}),Object(pe.jsx)("option",{value:"ADMIN",children:"Administrador"}),Object(pe.jsx)("option",{value:"AGENT",children:"Agente"})]})}),Object(pe.jsx)("div",{className:"col-md-2",children:Object(pe.jsx)("button",{type:"submit",className:"btn btn-primary m-1",children:"Generar usuario"})})]})}),c&&Object(pe.jsx)("div",{className:"row",children:Object(pe.jsxs)("div",{className:"col-md-3 offset-md-4 mt-2 border border-success rounded text-center text-success bg-success",children:[Object(pe.jsx)("button",{onClick:function(){r(!1)},className:"btn text-success float-end",children:Object(pe.jsx)(kt.e,{})}),Object(pe.jsx)("div",{className:"clearfix"}),j&&Object(pe.jsxs)("p",{className:"text-start",children:["Nombre de usuario: ",j.username,Object(pe.jsx)("br",{}),"Contrase\xf1a: ",i]})]})})]})},At=function(){var e=Object(a.useState)(!1),t=Object(de.a)(e,2),n=t[0],c=t[1],r=Object(W.c)((function(e){return e.users})).data,s=Object(a.useState)(r),o=Object(de.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(r)}),[r]);return Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("h3",{className:"text-center mt-3",children:"Usuarios"}),Object(pe.jsx)("hr",{}),Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsxs)("div",{className:"col-md-12",children:[Object(pe.jsx)("button",{onClick:function(){c(!n)},className:n?"btn btn-danger":"btn btn-primary",children:n?"Ocultar":"Nuevo"}),n&&Object(pe.jsx)(Dt,{})]}),Object(pe.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(pe.jsx)(Tt,{users:i})})]})]})},Ft=function(){return Object(pe.jsx)(Z.a,{children:Object(pe.jsxs)($.d,{children:[Object(pe.jsx)($.b,{exact:!0,path:"/",component:at}),Object(pe.jsx)($.b,{exact:!0,path:"/patients",component:We}),Object(pe.jsx)($.b,{exact:!0,path:"/professionals",component:pt}),Object(pe.jsx)($.b,{exact:!0,path:"/procedures",component:lt}),Object(pe.jsx)($.b,{exact:!0,path:"/reports",component:Ct}),Object(pe.jsx)($.b,{exact:!0,path:"/users",component:At}),Object(pe.jsx)($.b,{path:"*",component:at})]})})},Rt=n.p+"static/media/VitalPlus400x160.786f4bdf.png",Bt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.auth})).user;return Object(pe.jsx)("nav",{className:"navbar navbar-expand-lg bg-clear-blue",children:Object(pe.jsxs)("div",{className:"container",children:[Object(pe.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-target":"#mainNavbar","data-bs-toggle":"collapse","aria-expanded":"false",children:Object(pe.jsx)("span",{className:"navbar-toggler-icon text-light",children:Object(pe.jsx)(kt.g,{})})}),Object(pe.jsx)("img",{src:Rt,alt:"logo",className:"logo navbar-brand img-thumbnail"}),Object(pe.jsx)("div",{id:"mainNavbar",className:"collapse navbar-collapse mt-2",children:Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)("div",{className:"col-md-10",children:Object(pe.jsxs)("ul",{className:"navbar-nav",children:[Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{exact:!0,to:"/",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.a,{})," Pagos"]})}),Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{to:"/patients",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.d,{})," Pacientes"]})}),Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{to:"/professionals",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.j,{})," Profesionales"]})}),Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{to:"/procedures",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.c,{})," Tratamientos"]})}),"ADMIN"===t.role&&Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{to:"/reports",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.b,{})," Reportes"]})}),"ADMIN"===t.role&&Object(pe.jsx)("li",{className:"nav-item",children:Object(pe.jsxs)(Z.b,{to:"/users",activeClassName:"active animate__animated animate__pulse animate__faster 200ms",className:"nav-link fs-5 px-2 text-light",children:[Object(pe.jsx)(kt.l,{})," Usuarios"]})})]})}),Object(pe.jsxs)("div",{className:"col-md-2 text-end",children:[Object(pe.jsx)("button",{onClick:function(){e((function(e){localStorage.clear(),e(ue())}))},className:"btn btn-outline-warning",children:Object(pe.jsxs)("strong",{className:"fs-6",children:[Object(pe.jsx)(kt.f,{})," Salir"]})}),Object(pe.jsx)("br",{}),Object(pe.jsxs)("span",{className:"fs-6 text-light",children:[Object(pe.jsx)(kt.i,{})," ",t.name,Object(pe.jsx)("br",{}),"ADMIN"===t.role?" ADMIN":" Agente"]})]})]})})]})})},Mt=function(){var e=Object(W.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("patients");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,c=a.patients,t(he(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("procedures");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,c=a.procedures,t(we(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("professionals");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,c=a.professionals,t(Se(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se("users");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,c=a.users,t(Be(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(pe.jsx)("main",{className:"container bg-orange min-vh-100 min-vw-100",children:Object(pe.jsxs)("div",{className:"row",children:[Object(pe.jsx)(Bt,{}),Object(pe.jsx)("div",{className:"col-md-12",children:Object(pe.jsx)(Ft,{})})]})})},It=n(59),Yt=function(e){var t=e.isAuthenticated,n=e.component,a=Object(It.a)(e,["isAuthenticated","component"]);return Object(pe.jsx)($.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(pe.jsx)(n,Object(i.a)({},e)):Object(pe.jsx)($.a,{to:"/login"})}}))},Ut=function(e){var t=e.isAuthenticated,n=e.component,a=Object(It.a)(e,["isAuthenticated","component"]);return Object(pe.jsx)($.b,Object(i.a)(Object(i.a)({},a),{},{component:function(e){return t?Object(pe.jsx)($.a,{to:"/"}):Object(pe.jsx)(n,Object(i.a)({},e))}}))},Vt=function(){var e=Object(W.b)(),t=Object(W.c)((function(e){return e.auth})),n=t.checking,c=t.user;return Object(a.useEffect)((function(){e(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(localStorage.getItem("token")){e.next=4;break}return t(le()),e.abrupt("return");case 4:return e.next=6,oe("auth/renew");case 6:return n=e.sent,e.next=9,n.json();case 9:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(ie({username:a.username,name:a.name,role:a.role}))):t(le());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(pe.jsx)("h5",{children:"Cargando..."}):Object(pe.jsx)(Z.a,{children:Object(pe.jsx)("div",{children:Object(pe.jsxs)($.d,{children:[Object(pe.jsx)(Ut,{exact:!0,path:"/login",component:fe,isAuthenticated:!!c}),Object(pe.jsx)(Yt,{path:"/",component:Mt,isAuthenticated:!!c})]})})})},Lt=function(){return Object(pe.jsx)(W.a,{store:Q,children:Object(pe.jsx)(Vt,{})})};r.a.render(Object(pe.jsx)(Lt,{}),document.getElementById("root"))},86:function(e,t,n){}},[[242,1,2]]]);
//# sourceMappingURL=main.fe27ce88.chunk.js.map